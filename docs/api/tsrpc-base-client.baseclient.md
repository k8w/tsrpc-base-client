<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [tsrpc-base-client](./tsrpc-base-client.md) &gt; [BaseClient](./tsrpc-base-client.baseclient.md)

## BaseClient class

An abstract base class for TSRPC Client, which includes some common buffer process flows.

<b>Signature:</b>

```typescript
export declare abstract class BaseClient<ServiceType extends BaseServiceType> 
```

## Remarks

You can implement a client on a specific transportation protocol (like HTTP, WebSocket, QUIP) by extend this.

## Constructors

|  Constructor | Modifiers | Description |
|  --- | --- | --- |
|  [(constructor)(proto, options)](./tsrpc-base-client.baseclient._constructor_.md) |  | Constructs a new instance of the <code>BaseClient</code> class |

## Properties

|  Property | Modifiers | Type | Description |
|  --- | --- | --- | --- |
|  [\_apiSnCounter](./tsrpc-base-client.baseclient._apisncounter.md) |  | [Counter](./tsrpc-base-client.counter.md) |  |
|  [\_msgHandlers](./tsrpc-base-client.baseclient._msghandlers.md) |  | [MsgHandlerManager](./tsrpc-base-client.msghandlermanager.md) |  |
|  [\_pendingApis](./tsrpc-base-client.baseclient._pendingapis.md) |  | [PendingApiItem](./tsrpc-base-client.pendingapiitem.md)<!-- -->\[\] | Pending API Requests |
|  [flows](./tsrpc-base-client.baseclient.flows.md) |  | { readonly preCallApiFlow: [Flow](./tsrpc-base-client.flow.md)<!-- -->&lt;[CallApiFlowData](./tsrpc-base-client.callapiflowdata.md)<!-- -->&lt;ServiceType&gt;&gt;; readonly preApiReturnFlow: [Flow](./tsrpc-base-client.flow.md)<!-- -->&lt;[ApiReturnFlowData](./tsrpc-base-client.apireturnflowdata.md)<!-- -->&lt;ServiceType&gt;&gt;; readonly postApiReturnFlow: [Flow](./tsrpc-base-client.flow.md)<!-- -->&lt;[ApiReturnFlowData](./tsrpc-base-client.apireturnflowdata.md)<!-- -->&lt;ServiceType&gt;&gt;; readonly preSendMsgFlow: [Flow](./tsrpc-base-client.flow.md)<!-- -->&lt;[SendMsgFlowData](./tsrpc-base-client.sendmsgflowdata.md)<!-- -->&lt;ServiceType&gt;&gt;; readonly postSendMsgFlow: [Flow](./tsrpc-base-client.flow.md)<!-- -->&lt;[SendMsgFlowData](./tsrpc-base-client.sendmsgflowdata.md)<!-- -->&lt;ServiceType&gt;&gt;; readonly preSendBufferFlow: [Flow](./tsrpc-base-client.flow.md)<!-- -->&lt;{ buf: Uint8Array; sn?: number \| undefined; }&gt;; readonly preRecvBufferFlow: [Flow](./tsrpc-base-client.flow.md)<!-- -->&lt;{ buf: Uint8Array; sn?: number \| undefined; }&gt;; readonly preConnectFlow: [Flow](./tsrpc-base-client.flow.md)<!-- -->&lt;{}&gt;; readonly postConnectFlow: [Flow](./tsrpc-base-client.flow.md)<!-- -->&lt;{}&gt;; readonly postDisconnectFlow: [Flow](./tsrpc-base-client.flow.md)<!-- -->&lt;{ reason?: string \| undefined; isManual?: boolean \| undefined; }&gt;; } | [Flow](./tsrpc-base-client.flow.md) to process <code>callApi</code>, <code>sendMsg</code>, buffer input/output, etc... |
|  [lastSN](./tsrpc-base-client.baseclient.lastsn.md) |  | number | The <code>SN</code> number of the last <code>callApi()</code>, which can be passed to <code>abort()</code> to abort an API request. |
|  [logger?](./tsrpc-base-client.baseclient.logger.md) |  | Logger | <i>(Optional)</i> <code>Logger</code> to process API Request/Response, send message, send buffer... |
|  [nextSN](./tsrpc-base-client.baseclient.nextsn.md) |  | number | The <code>SN</code> number of the next <code>callApi()</code>, which can be passed to <code>abort()</code> to abort an API request. |
|  [options](./tsrpc-base-client.baseclient.options.md) |  | [BaseClientOptions](./tsrpc-base-client.baseclientoptions.md) |  |
|  [serviceMap](./tsrpc-base-client.baseclient.servicemap.md) |  | [ServiceMap](./tsrpc-base-client.servicemap.md) | The map of all services |
|  [tsbuffer](./tsrpc-base-client.baseclient.tsbuffer.md) |  | TSBuffer | The <code>TSBuffer</code> instance for encoding, decoding, and type checking |
|  [type](./tsrpc-base-client.baseclient.type.md) |  | 'SHORT' \| 'LONG' | The connection is long connection or short connection |

## Methods

|  Method | Modifiers | Description |
|  --- | --- | --- |
|  [\_doCallApi(apiName, req, options, pendingItem)](./tsrpc-base-client.baseclient._docallapi.md) |  |  |
|  [\_encodeApiReq(service, req, pendingItem)](./tsrpc-base-client.baseclient._encodeapireq.md) |  |  |
|  [\_encodeClientMsg(service, msg)](./tsrpc-base-client.baseclient._encodeclientmsg.md) |  |  |
|  [\_onRecvBuf(buf, pendingApiItem)](./tsrpc-base-client.baseclient._onrecvbuf.md) |  |  |
|  [\_sendBuf(buf, options, serviceId, pendingApiItem)](./tsrpc-base-client.baseclient._sendbuf.md) |  | Send buffer |
|  [\_waitApiReturn(pendingItem, timeout)](./tsrpc-base-client.baseclient._waitapireturn.md) |  |  |
|  [abort(sn)](./tsrpc-base-client.baseclient.abort.md) |  | Abort a pending API request, it makes the promise returned by <code>callApi()</code> neither resolved nor rejected forever. |
|  [abortAll()](./tsrpc-base-client.baseclient.abortall.md) |  | Abort all pending API requests. It makes the promise returned by <code>callApi</code> neither resolved nor rejected forever. |
|  [abortByKey(abortKey)](./tsrpc-base-client.baseclient.abortbykey.md) |  | Abort all API requests that has the <code>abortKey</code>. It makes the promise returned by <code>callApi</code> neither resolved nor rejected forever. |
|  [callApi(apiName, req, options)](./tsrpc-base-client.baseclient.callapi.md) |  | Send request and wait for the return |
|  [listenMsg(msgName, handler)](./tsrpc-base-client.baseclient.listenmsg.md) |  | Add a message handler, duplicate handlers to the same <code>msgName</code> would be ignored. |
|  [sendMsg(msgName, msg, options)](./tsrpc-base-client.baseclient.sendmsg.md) |  | Send message, without response, not ensuring the server is received and processed correctly. |
|  [unlistenMsg(msgName, handler)](./tsrpc-base-client.baseclient.unlistenmsg.md) |  | Remove a message handler |
|  [unlistenMsgAll(msgName)](./tsrpc-base-client.baseclient.unlistenmsgall.md) |  | Remove all handlers from a message |

